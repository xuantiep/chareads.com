(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"/Zey":function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),i=n("vOnD"),o=i.c.div.withConfig({displayName:"Reveal__StyledContent",componentId:"zfowet-0"})(["margin:0;will-change:opacity,max-height;transition:opacity ","ms ease-in-out,max-height ","ms ease-in-out;overflow:hidden;"," "," ",""],200,200,(function(e){var t=e.isOpen,n=e.isTransitioning;return!t&&!n&&"\n      position: absolute;\n      opacity: 0;\n      pointer-events: none;\n  "}),(function(e){return e.isTransitioning&&"\n      opacity: 0;\n      max-height: 0;\n  "}),(function(e){return e.isOpen&&"\n      opacity: 1;\n  "}));t.a=function(e){var t=e.children,n=e.open,i=e.ariaId,c=e.className,l=e.as,m=Object(a.useState)(n),s=m[0],d=m[1],u=Object(a.useState)(!1),g=u[0],f=u[1],p=Object(a.useState)(null),b=p[0],h=p[1],y=Object(a.createRef)();return Object(a.useEffect)((function(){if(n){var e=y.current;h(e.clientHeight),f(!0)}else d(!1),setTimeout((function(){return f(!1)}),200)}),[n]),Object(a.useEffect)((function(){g&&!s&&setTimeout((function(){return d(!0)}),50)}),[g]),r.a.createElement(o,{className:c,ref:y,isOpen:s,isTransitioning:g,id:i,"aria-hidden":!s,as:l,style:{maxHeight:s&&b}},t)}},"1EL1":function(e,t,n){"use strict";var a=n("AcpX"),r=n("8o2o"),i=n("q1tI"),o=n.n(i),c=n("vOnD"),l=n("Wbzz"),m=n("9eSz"),s=n.n(m),d=n("7tht"),u=n("zjVz"),g=n("6p55"),f=n("hQ1k");function p(){var e=Object(a.a)(["\n    --perspective: 1600px;\n  "]);return p=function(){return e},e}var b=Object(c.c)((function(e){e.big;var t=Object(r.a)(e,["big"]);return o.a.createElement(l.a,t)})).withConfig({displayName:"BookCard__StyledBookCard",componentId:"sc-1iijhnp-0"})(["display:flex;flex-direction:column;justify-content:space-around;align-items:center;margin:0;height:100%;position:relative;overflow:hidden;background:",";border-radius:",";outline:0 !important;--perspective:800px;--book-pages-color:#afbdbb;",";"],g.c.BACKGROUND_DARK,g.a.S,(function(e){return e.big&&f.c.m(p())})),h=c.c.figure.withConfig({displayName:"BookCard__StyledImgWrapper",componentId:"sc-1iijhnp-1"})(["max-width:100%;height:auto;margin:0.5em;background:var(--book-pages-color);box-shadow:0 0.2em 0.5em rgba(0,0,0,0.1);transform:scale(var(--book-scale));*::selection{background:var(--primary-color);color:",";}"],g.c.BACKGROUND_LIGHT),y=Object(c.c)(s.a).withConfig({displayName:"BookCard__StyledImg",componentId:"sc-1iijhnp-2"})(["vertical-align:bottom;transition:transform 0.3s ease-out;transform-origin:0 50%;box-shadow:0 0 0.3em rgba(0,0,0,0.05);transform:perspective(var(--perspective)) rotateY(0);a:hover &,a:focus &{transition:transform 0.15s ease-out;transform:perspective(var(--perspective)) rotateY(-30deg);}a:active &{transition:transform 0.5s ease-out;transform:perspective(var(--perspective)) rotateY(-80deg);}"]),v=c.c.figcaption.withConfig({displayName:"BookCard__StyledAccessibilityTitle",componentId:"sc-1iijhnp-3"})(["position:absolute;top:0;left:0;width:100%;height:100%;text-align:center;font-size:",";color:transparent;padding:0.5em;display:flex;place-items:center;"],g.e.SIZE.S),w=c.c.div.withConfig({displayName:"BookCard__StyledMeta",componentId:"sc-1iijhnp-4"})(["margin:0 0 1em;font-size:",";line-height:1;text-align:center;& > * + *{margin-top:0.25em;}"],g.e.SIZE.XS),E=c.c.button.withConfig({displayName:"BookCard__StyledVideoLink",componentId:"sc-1iijhnp-5"})(["display:inline-block;font-weight:",";padding:0.25em 0.5em;transition:transform 150ms linear;&:hover{transform:translate(-0.1em,0);}&::selection{background:transparent;}"],g.e.WEIGHT.BOLD);t.a=function(e){var t=e.book,n=e.featured,a=e.big,r=e.hideDetails,i=e.className;return o.a.createElement(b,{to:t.slug,big:a,style:{background:r?t.image.colors.darkVibrant:n&&t.image.colors.lightMuted,color:t.image.colors.darkVibrant,"--primary-color":t.image.colors.vibrant,"--secondary-color":t.image.colors.darkVibrant,"--book-pages-color":n&&t.image.colors.muted,"--book-scale":((t.bookHeight||198)/220).toFixed(2)},className:i,title:t.title+" by "+t.author},o.a.createElement(h,null,o.a.createElement(y,{fixed:a?[Object.assign({},t.image.childImageSharp.h150,{media:"(max-width: "+(g.b.S-1)+"px)"}),Object.assign({},t.image.childImageSharp.h350,{media:"(min-width: "+g.b.S+"px)"})]:t.image.childImageSharp.h150,backgroundColor:t.image.colors.muted}),o.a.createElement(v,null,o.a.createElement("span",null,t.title," by ",t.author))),!r&&(t.rating7||t.video)&&o.a.createElement(w,null,t.video&&o.a.createElement(E,{onClick:function(e){e.preventDefault(),Object(l.c)(t.video.slug)}},"Video review",o.a.createElement(u.a,null)),t.rating7&&o.a.createElement(d.a,{of7:t.rating7})))}},"4jQy":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e,t,n,a){window.gtag&&window.gtag("event",e,Object.assign({event_category:t,event_label:n},a))}},"60ph":function(e,t,n){"use strict";var a=n("AcpX"),r=n("q1tI"),i=n.n(r),o=n("vOnD"),c=n("6t0R"),l=n("cRSu"),m=n("0M2Q"),s=n("6p55"),d=n("hQ1k"),u=n("1EL1");function g(){var e=Object(a.a)(["\n    > *:nth-last-child(1) {\n      display: none;\n    }\n  "]);return g=function(){return e},e}function f(){var e=Object(a.a)(["\n    display: none;\n  "]);return f=function(){return e},e}var p=o.c.div.withConfig({displayName:"RelatedBooks__StyledWrapper",componentId:"sc-1ej6r71-0"})(["margin:2em 0 1em;"]),b=Object(o.c)(l.a).withConfig({displayName:"RelatedBooks__StyledTitleGridItem",componentId:"sc-1ej6r71-1"})(["",""],d.c.m(f())),h=Object(o.c)(c.a).withConfig({displayName:"RelatedBooks__StyledGrid",componentId:"sc-1ej6r71-2"})(["font-size:",";",""],s.e.SIZE.S,d.a.l(g()));t.a=function(e){var t=e.books,n=e.featuredSlugs,a=e.ownedSlug;return t&&0!==t.length?i.a.createElement(p,null,i.a.createElement(h,{full:!0},i.a.createElement(b,null,i.a.createElement(m.a,{size:"L",as:"h2"},"Related books")),t.map((function(e){var t=a?a===e.slug:n&&n.includes(e.slug);return i.a.createElement(l.a,{key:e.id,span:1,spanFromM:3,spanFromL:2},i.a.createElement(u.a,{book:e,featured:t,hideDetails:a===e.slug}))})))):null}},"8o2o":function(e,t,n){"use strict";function a(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}n.d(t,"a",(function(){return a}))},C9hw:function(e,t,n){"use strict";n.r(t);var a=n("t8Zj"),r=n("AcpX"),i=n("q1tI"),o=n.n(i),c=n("vOnD"),l=n("rcno"),m=n("SbvX"),s=n("Wtfd"),d=n("NsgW"),u=n("hQ1k"),g=n("6t0R"),f=n("cRSu"),p=n("zQrH"),b=n("60ph"),h=n("lmt0"),y=n("7tht"),v=n("0M2Q"),w=Object(c.c)(v.a).withConfig({displayName:"BookTitle__StyledTitle",componentId:"sc-115cfbr-0"})(["margin:0 0 0.25em;"]),E=Object(c.c)(v.a).withConfig({displayName:"BookTitle__StyledSubtitle",componentId:"sc-115cfbr-1"})(["margin:-0.25em 0 0.375em;text-transform:lowercase;"]),j=Object(c.c)(v.a).withConfig({displayName:"BookTitle__StyledAuthor",componentId:"sc-115cfbr-2"})(["margin:0.5em 0 1em;"]),k=function(e){var t=e.title,n=e.subtitle,a=e.author,r=e.rating7;return o.a.createElement(o.a.Fragment,null,o.a.createElement(w,{as:"h2",size:"XXL",decorative:!0},t),n&&o.a.createElement(E,{as:"h3",size:"L",decorative:!0},n),o.a.createElement(j,{as:"h2",size:"M"},"by ",a),r&&o.a.createElement(y.a,{of7:r}))},S=n("9eSz"),O=n.n(S),I=n("6p55"),_=n("VdcY");function C(){var e=Object(r.a)(["\n    transform-origin: 0% 50%;\n  "]);return C=function(){return e},e}function B(){var e=Object(r.a)(["\n    padding-left: ",";\n  "]);return B=function(){return e},e}function N(){var e=Object(r.a)(["\n    padding-left: ",";\n  "]);return N=function(){return e},e}function x(){var e=Object(r.a)(["\n    justify-content: start;\n  "]);return x=function(){return e},e}var z=c.c.figure.withConfig({displayName:"BookImage__StyledBookImage",componentId:"sc-2wkkok-0"})(["display:flex;align-items:center;justify-content:center;position:relative;margin:0;box-sizing:border-box;padding:1em 0;width:100%;height:100%;border-radius:",";"," "," ",""],I.a.S,u.c.l(x()),u.a.l(N(),Object(_.h)(_.e.L*(_.b.L+_.c.L))),u.a.xl(B(),Object(_.h)(_.e.XL*(_.b.XL+_.c.XL)))),L=Object(c.c)(O.a).withConfig({displayName:"BookImage__StyledImg",componentId:"sc-2wkkok-1"})(["box-shadow:0 0.4em 1em rgba(0,0,0,0.2),0 0 0.6em rgba(0,0,0,0.1);vertical-align:bottom;transform:scale(var(--book-scale));",""],u.c.l(C())),R=function(e){var t=e.image,n=e.bookHeight;return o.a.createElement(z,{style:{background:t.colors.muted}},o.a.createElement(L,{fixed:[Object.assign({},t.childImageSharp.h200,{media:"(max-width: "+(I.b.M-1)+"px)"}),Object.assign({},t.childImageSharp.h300,{media:"(min-width: "+I.b.M+"px) and (max-width: "+(I.b.L-1)+"px)"}),Object.assign({},t.childImageSharp.h400,{media:"(min-width: "+I.b.L+"px)"})],style:{"--book-scale":((n||198)/220).toFixed(2)},backgroundColor:t.colors.darkMuted}))},D=n("NT6L"),F=n("/Zey"),M=n("jZWi");function T(){var e=Object(r.a)(["\n    margin-bottom: 0 0 1em;\n  "]);return T=function(){return e},e}function V(){var e=Object(r.a)(["\n      margin-bottom: 1em;\n    "]);return V=function(){return e},e}function X(){var e=Object(r.a)(["\n      margin-top: -0.25em;\n    "]);return X=function(){return e},e}var A=c.c.div.withConfig({displayName:"BookReview__StyledBookReview",componentId:"sc-19zh8gg-0"})(["position:relative;&&{margin-top:-1em;"," ","}"],u.c.m(X()),u.c.l(V())),Z=c.c.div.withConfig({displayName:"BookReview__StyledContent",componentId:"sc-19zh8gg-1"})(["margin:0.5em 0 0.5em;",""],u.c.m(T())),G=c.c.div.withConfig({displayName:"BookReview__StyledSummary",componentId:"sc-19zh8gg-2"})(["padding:0.5em 0 0;font-size:",";"],I.e.SIZE.S),H=function(e){var t=e.summary,n=e.html,a=Object(i.useState)(!n),r=a[0],c=a[1];return o.a.createElement(A,null,n&&o.a.createElement(Z,null,o.a.createElement(D.a,{dangerouslySetInnerHTML:{__html:n}})),o.a.createElement(M.a,{onClick:function(){return c(!r)},open:r,ariaId:"book-summary"},"Book blurb"),o.a.createElement(F.a,{as:G,open:r,ariaId:"book-summary"},t))},W=n("aXhJ"),K=n("d1i6"),P=(n("RUBk"),n("uVIV")),Q=n("8o2o"),q=n("Wbzz"),U=n("4jQy"),Y=Object(c.c)(q.a).withConfig({displayName:"TagLink__StyledLink",componentId:"ud4ned-0"})(["",";"],I.d),J=function(e){var t=e.tag,n=Object(Q.a)(e,["tag"]),a=Object(P.c)(t),r=a[0],i=a[1],c=s.a.BOOKS+"?"+r+"="+i;return o.a.createElement(Y,Object.assign({to:c,onClick:function(){return Object(U.a)("book-filter",r,i)}},n))};function $(){var e=Object(r.a)(["\n    margin: 1.5em 0;\n  "]);return $=function(){return e},e}var ee=c.c.ol.withConfig({displayName:"TagsList__StyledOl",componentId:"sc-9yrqws-0"})(["margin:1em 0;font-size:",";",""],I.e.SIZE.S,u.c.m($())),te=c.c.li.withConfig({displayName:"TagsList__StyledLi",componentId:"sc-9yrqws-1"})(["line-height:1.25;margin:0.5em 0;"]),ne=function(e){var t=e.tags;if(!t||0===t.length)return null;var n=Object(P.d)(t);return o.a.createElement(ee,null,n.map((function(e){var t=e.prefix,n=e.values;return o.a.createElement(te,{key:t},o.a.createElement("strong",null,t)," – ",n.map((function(e){return o.a.createElement(J,{tag:e.unprefixed,key:e.unprefixed},e.name)})).reduce((function(e,t){return null===e?[t]:[].concat(Object(a.a)(e),[", ",t])}),null))})))};function ae(){var e=Object(r.a)(["\n    margin: 1em 0 0;\n  "]);return ae=function(){return e},e}function re(){var e=Object(r.a)(["\n    padding: 0.5em 0 0.5em 1em;\n  "]);return re=function(){return e},e}function ie(){var e=Object(r.a)(["\n    display: none;\n  "]);return ie=function(){return e},e}var oe=Object(c.c)(M.a).withConfig({displayName:"BookMeta__StyledRevealTrigger",componentId:"et16l0-0"})([""," margin-bottom:0.5em;"],u.c.m(ie())),ce=c.c.dl.withConfig({displayName:"BookMeta__StyledReveal",componentId:"et16l0-1"})([""," ",""],K.a,u.a.s(re())),le=c.c.dt.withConfig({displayName:"BookMeta__StyledDt",componentId:"et16l0-2"})(["font-size:",";font-weight:",";margin:0.5em 0 0;",""],I.e.SIZE.S,I.e.WEIGHT.BOLD,u.c.m(ae())),me=c.c.dd.withConfig({displayName:"BookMeta__StyledDd",componentId:"et16l0-3"})(["font-size:",";margin:0;"],I.e.SIZE.S),se=function(e){var t=e.pageCount,n=e.dateBookPublished,a=e.publisher,r=e.tags,c=e.series,l=e.readDates,m=e.dateLastRead,s=e.dateRated,d=e.dateReviewed,u=Object(W.a)().width,g=Object(i.useState)(!1),f=g[0],p=g[1],b=l.length>1;return o.a.createElement(o.a.Fragment,null,o.a.createElement(oe,{onClick:function(){return p(!f)},open:f,ariaId:"book-meta"},"Book data"),o.a.createElement(F.a,{as:ce,open:u&&u>I.b.S||f,ariaId:"book-meta"},t&&o.a.createElement(o.a.Fragment,null,o.a.createElement(le,null,"Page count"),o.a.createElement(me,null,t)),n&&o.a.createElement(o.a.Fragment,null,o.a.createElement(le,null,"First published"),o.a.createElement(me,null,Object(h.c)(n))),c&&o.a.createElement(o.a.Fragment,null,o.a.createElement(le,null,"Series"),o.a.createElement(me,null,c.title," #",c.number)),a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(le,null,"Publisher"),o.a.createElement(me,null,a)),o.a.createElement(ne,{tags:r}),o.a.createElement(le,null,"History"),m&&o.a.createElement(o.a.Fragment,null,b&&o.a.createElement(me,null,"Read ",l.length," times"),o.a.createElement(me,null,b?"Last read":"Read"," on"," ",o.a.createElement("time",{dateTime:m.toString()},Object(h.d)(m)))),s&&o.a.createElement(me,null,"Rated on ",o.a.createElement("time",{dateTime:s.toString()},Object(h.d)(s))),d&&o.a.createElement(me,null,"Reviewed on ",o.a.createElement("time",{dateTime:d.toString()},Object(h.d)(d)))))},de=n("wC2E");function ue(){var e=Object(r.a)(["\n    margin-bottom: 1em;\n  "]);return ue=function(){return e},e}function ge(){var e=Object(r.a)(["\n    margin-bottom: 0.5em;\n  "]);return ge=function(){return e},e}var fe=Object(c.c)(g.a).withConfig({displayName:"BookPage__StyledGrid",componentId:"sc-1vn921c-0"})(["*::selection{background:var(--primary-color);}"]),pe=c.c.div.withConfig({displayName:"BookPage__StyledBookTitle",componentId:"sc-1vn921c-1"})(["align-self:end;"]),be=Object(c.c)(f.a).withConfig({displayName:"BookPage__StyledHeadlineGridItem",componentId:"sc-1vn921c-2"})([""," ",""],u.a.m(ge()),u.c.l(ue()));t.default=function(e){var t=e.data,n=t.book,r=t.timestampMentionData,i=t.featuredVideoData,c=e.location,u=[].concat(Object(a.a)(Object(l.a)(i)),Object(a.a)(Object(l.a)(r))),g=1===u.length,y=n.relatedBooks,v=2+Math.ceil(u.length/2);return o.a.createElement(d.a,{location:c,navTitle:"Back to book reviews",navTitleLink:s.a.BOOKS,title:n.title+" by "+n.author,description:Object(m.b)(n.html)||n.summary,shareImage:n.slug+"/share.jpg"},o.a.createElement(fe,{full:!0,style:{"--primary-color":n.image.colors.lightVibrant,"--secondary-color":n.image.colors.darkVibrant}},o.a.createElement(be,{as:pe,rows:"2/3",rowsFromM:"1/2",columnsFromM:"5 / 12",columnsFromL:"8 / 14",columnsFromXL:"9 / 15"},o.a.createElement(k,{title:n.title,subtitle:n.subtitle,author:n.author,rating7:n.rating7})),o.a.createElement(be,{columnsFromM:"1/5",columnsFromL:"1/8",columnsFromXL:"1/9"},o.a.createElement(R,{image:n.image,bookHeight:n.bookHeight})),o.a.createElement(f.a,{spanFromM:4,spanFromL:3,columnsFromL:"2/5",columnsFromXL:"3/6",spanRowsFromM:v+1,spanRowsFromL:v},o.a.createElement(se,{pageCount:n.pageCount,dateBookPublished:n.dateBookPublished,publisher:n.publisher,tags:n.tags,series:n.series,readDates:n.readDates,dateLastRead:n.dateLastRead,dateRated:n.dateRated,dateReviewed:n.dateReviewed})),o.a.createElement(f.a,{spanFromM:8,spanFromL:3,columnsFromM:"5/13",columnsFromL:"5/8",columnsFromXL:"6/9",rows:"5",rowsFromM:"3",rowsFromL:"2/"+(v+2),style:{marginBottom:"1em"}},o.a.createElement(de.a,{links:n.links})),o.a.createElement(f.a,{columnsFromM:"5/13",columnsFromL:"8/15",columnsFromXL:"9/15"},o.a.createElement(H,{summary:n.summary,html:n.html})),u.map((function(e){var t=(e.timestamps||[]).find((function(e){return e.book&&e.book.id===n.id})),a=t&&Object(h.b)(t.t);return o.a.createElement(f.a,{key:e.id,span:g?2:1,spanFromM:g?8:4,spanFromL:g?6:3,spanFromXL:g?6:4},o.a.createElement(p.a,{video:e,timestamp:a,big:!0,playsInline:!0,hideOwnedByRating:!0}))}))),o.a.createElement(b.a,{books:y}))}},NT6L:function(e,t,n){"use strict";var a=n("vOnD"),r=n("6p55"),i=n("d1i6"),o=a.c.div.withConfig({displayName:"MarkdownWrapper",componentId:"kio069-0"})([""," hr{height:0.1em;background:",";border:0;margin:1em 0;}blockquote{margin-left:0;border-left:0.2em solid ",";padding-left:1em;}h2{margin-top:1em;font-size:",";}h3,h4{margin-top:1em;font-size:",";}img{max-width:100%;}ul{list-style:disc;}ol{list-style:decimal;}p,ul,ol{margin:0.5em 0;}ul,ol{padding-left:1em;","}li{margin:0.25em 0;}a{text-decoration:underline;text-decoration-color:var(--secondary-color);}"],i.a,r.c.BACKGROUND_DARK,r.c.BACKGROUND_DARK,r.e.SIZE.M,r.e.SIZE.S,i.a);t.a=o},SbvX:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){return e.replace(/<\/[^>]+><[^>/]+>/gm," ").replace(/<\/?[^>]+>/g,"").replace(/ +/gm," ").trim()},r=function(e){return e.sort((function(e,t){return e<t?-1:e>t?1:0}))}},aXhJ:function(e,t,n){"use strict";var a=n("q1tI");t.a=function(){if("undefined"==typeof window)return{width:null,height:null};var e=function(){return{width:window.innerWidth,height:window.innerHeight}},t=Object(a.useState)(e),n=t[0],r=t[1];return Object(a.useEffect)((function(){var t=function(){return r(e())};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),n}},jZWi:function(e,t,n){"use strict";var a=n("AcpX"),r=n("q1tI"),i=n.n(r),o=n("vOnD"),c=n("6p55"),l=n("hQ1k"),m=n("F9MX");function s(){var e=Object(a.a)(["\n    width: 100%;\n    text-align: left;\n  "]);return s=function(){return e},e}var d=o.c.button.withConfig({displayName:"RevealTrigger__StyledSummaryTrigger",componentId:"sc-1kl3bfo-0"})(["font-size:",";font-weight:",";",""],c.e.SIZE.S,c.e.WEIGHT.BOLD,l.b.s(s())),u=o.c.i.withConfig({displayName:"RevealTrigger__StyledIcon",componentId:"sc-1kl3bfo-1"})(["display:inline-block;position:relative;width:1.25em;height:1.25em;vertical-align:-0.3em;&:before,&:after{content:'';display:block;position:absolute;top:50%;left:0.35em;width:0.7em;height:0.125em;background:currentColor;transform-origin:50% 50%;transform:translate(-50%,-50%);transition:transform 0.2s linear;}",""],(function(e){return!e.open&&"\n    &:before {\n      transform: translate(-50%, -50%) rotate(-90deg);\n    }\n  "}));t.a=function(e){var t=e.children,n=e.open,a=e.ariaId,r=e.onClick,o=e.className;return i.a.createElement(m.a,{onClick:r,"aria-expanded":n,"aria-controls":a,as:d,className:o},i.a.createElement(u,{open:n}),t)}},rcno:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){return e.edges.map((function(e){return e.node}))}},uVIV:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return m}));n("RUBk");var a=n("t8Zj"),r=n("SbvX"),i={type:"Type",genre:"Genre",sub:"Subject"},o=function(e){var t=e.split("-");return[t[0],t.slice(1).join("-"),e]},c=function(e){var t=e.map(o).reduce((function(e,t){var n=t[0],a={name:t[1],unprefixed:t[2]};return e[n]?e[n].push(a):e[n]=[a],e}),{});return Object.keys(i).filter((function(e){return t[e]})).map((function(e){return{prefix:i[e],values:t[e]}}))},l=function(e,t){var n=[];e.forEach((function(e){return n.push.apply(n,Object(a.a)(e.tags))}));var i=Object(a.a)(new Set(n)),o=Object(r.a)(i);return t?o.filter((function(e){return e.startsWith(t+"-")})).map((function(e){return e.slice(t.length+1)})):o},m=function(e,t,n,a,r){var i=e;return t&&"type"!==r&&(i=i.filter((function(e){return e.tags.includes("type-"+t)}))),n&&"genre"!==r&&(i=i.filter((function(e){return e.tags.includes("genre-"+n)}))),a&&"sub"!==r&&(i=i.filter((function(e){return e.tags.includes("sub-"+a)}))),i}},wC2E:function(e,t,n){"use strict";var a,r=n("AcpX"),i=n("q1tI"),o=n.n(i),c=n("vOnD"),l={GOODREADS:"gr",AMAZON:"amzn",BOOK_DEPOSITORY:"bd"},m=n("6p55"),s=n("hQ1k"),d=n("zjVz");function u(){var e=Object(r.a)(["\n    margin-left: -1.5em;\n  "]);return u=function(){return e},e}var g=((a={})[l.GOODREADS]="See on Goodreads",a[l.AMAZON]="Buy on Amazon",a[l.BOOK_DEPOSITORY]="Buy on Book Depository",a),f=c.c.li.withConfig({displayName:"BookAffiliates__StyledLi",componentId:"sc-1dplmdt-0"})(["font-size:",";",""],m.e.SIZE.S,s.c.l(u())),p=Object(c.c)(d.a).withConfig({displayName:"BookAffiliates__StyledArrowIcon",componentId:"sc-1dplmdt-1"})(["margin:0 0.75em 0 0;"]);t.a=function(e){var t=e.links;return o.a.createElement("ol",null,Object.entries(g).map((function(e){var n=e[0],a=e[1];return o.a.createElement(f,{key:n},o.a.createElement("a",{href:t.long[n]},o.a.createElement(p,null),a))})))}},zQrH:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),i=n("vOnD"),o=n("Wbzz"),c=n("9eSz"),l=n.n(c),m=n("/6c9"),s=n.n(m),d=n("lmt0"),u=n("BCon"),g=n("0M2Q"),f=n("6p55"),p=n("7tht"),b=n("YBnV"),h=function(e){var t=e.className;return r.a.createElement("svg",{viewBox:"0 0 11 14",className:t},r.a.createElement("path",{d:"M9.2,6.2l-7.5-5c-0.5-0.3-1.2,0-1.2,0.6v10.3c0,0.6,0.7,1,1.2,0.6l7.5-5C9.8,7.4,9.8,6.6,9.2,6.2z"}))},y=n("QJKH"),v={youtube:{playerVars:{rel:0,controls:1,autoplay:1}}},w=Object(i.c)(o.a).withConfig({displayName:"VideoCard__StyledVideoCard",componentId:"sc-1jjz05g-0"})(["height:100%;display:flex;flex-direction:column;margin:0;overflow:hidden;background:",";border-radius:",";"],f.c.BACKGROUND_DARK,f.a.S),E=i.c.button.withConfig({displayName:"VideoCard__StyledPlayButton",componentId:"sc-1jjz05g-1"})(["position:absolute;z-index:1;padding:0.5em 0.6em;line-height:0;"]),j=Object(i.c)(h).withConfig({displayName:"VideoCard__StyledPlayIcon",componentId:"sc-1jjz05g-2"})(["width:1em;fill:",";filter:drop-shadow(0 0 2px rgba(0,0,0,0.1));"],f.c.BACKGROUND_LIGHT),k=i.c.aside.withConfig({displayName:"VideoCard__StyledDuration",componentId:"sc-1jjz05g-3"})(["position:absolute;bottom:0.25em;right:0.25em;padding:0 0.375em;border-radius:2px;background:#00000088;color:#ffffffcc;font-size:",";"],(function(e){return e.$big?f.e.SIZE.XS:f.e.SIZE.XXS})),S=Object(i.c)(l.a).withConfig({displayName:"VideoCard__StyledImg",componentId:"sc-1jjz05g-4"})(["box-shadow:0 0.2em 0.5em rgba(0,0,0,0.1);"]),O=i.c.div.withConfig({displayName:"VideoCard__StyledDetails",componentId:"sc-1jjz05g-5"})(["padding:0.5em 0.5em 0.3em;flex:1;display:flex;flex-direction:column;justify-content:space-between;min-height:4.8em;"]),I=i.c.p.withConfig({displayName:"VideoCard__StyledTimestamp",componentId:"sc-1jjz05g-6"})(["font-size:",";margin:0;"],f.e.SIZE.S),_=i.c.p.withConfig({displayName:"VideoCard__StyledMeta",componentId:"sc-1jjz05g-7"})(["display:flex;justify-content:space-between;flex-flow:wrap-reverse;font-size:",";margin:0;opacity:0.5;"],f.e.SIZE.XS),C=i.c.time.withConfig({displayName:"VideoCard__StyledDatePublished",componentId:"sc-1jjz05g-8"})(["margin-right:0.5em;"]),B=Object(i.c)(g.a).withConfig({displayName:"VideoCard__StyledH",componentId:"sc-1jjz05g-9"})(["margin:0;"]),N=i.c.div.withConfig({displayName:"VideoCard__StyledBookContentsWrapper",componentId:"sc-1jjz05g-10"})(["font-size:",";margin:","em 0;opacity:0.75;"],(function(e){return e.isStars?f.e.SIZE.XXS:f.e.SIZE.XS}),(function(e){return e.isStars?.4:.2}));t.a=function(e){var t=e.video,n=e.featured,i=e.timestamp,o=e.big,c=e.playsInline,l=e.hideOwnedByRating,m=e.className,g=Object(a.useState)(!1),h=g[0],x=g[1],z=(t.timestamps||[]).filter((function(e){return e.book&&e.book.id})).length+(t.ownedBy?1:0);return r.a.createElement(w,{to:i?t.slug+"?at="+i:t.slug,style:{background:n&&t.image.colors.lightVibrant,color:n&&t.image.colors.darkMuted,"--primary-color":t.image.colors.vibrant},className:m},r.a.createElement(b.a,{style:{backgroundColor:t.image.colors.muted}},h?r.a.createElement(s.a,{url:"https://www.youtube.com/watch?v="+t.youtubeId+(i&&"&t="+Object(d.e)(i)),config:v,width:"100%",height:"100%"}):r.a.createElement("div",null,c&&r.a.createElement(E,{onClick:function(e){e.preventDefault(),x(!0)}},r.a.createElement(j,null)),r.a.createElement(S,{fluid:o?[Object.assign({},t.image.childImageSharp.w200,{media:"(max-width: "+(f.b.M-1)+"px)"}),Object.assign({},t.image.childImageSharp.w350,{media:"(min-width: "+f.b.M+"px)"})]:t.image.childImageSharp.w200}),r.a.createElement(k,{$big:o,"aria-label":"duration"},Object(d.b)(t.duration)))),r.a.createElement(O,null,r.a.createElement("div",null,i&&r.a.createElement(I,null,"Featured at ",i," in"),r.a.createElement(B,{as:"h2",size:"S"},t.title),r.a.createElement(N,{isStars:!!t.ownedBy},t.ownedBy&&!l?t.ownedBy.rating7&&r.a.createElement(p.a,{of7:t.ownedBy.rating7}):!i&&z>1&&r.a.createElement(r.a.Fragment,null,"Featuring ",z," book",z>1&&"s"))),r.a.createElement(_,null,r.a.createElement(C,null,Object(d.d)(t.datePublished)),r.a.createElement(y.a,null,t.viewCount>parseInt("50")&&r.a.createElement("span",null,Object(u.b)(t.viewCount))))))}}}]);
//# sourceMappingURL=component---src-views-book-page-index-tsx-a7ce9b88cd7d4921e9ec.js.map