{"version":3,"sources":["webpack:///./src/components/cards/BookCard/index.tsx","webpack:///./node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./src/components/YouTubeSubscribeButton/index.tsx","webpack:///./src/views/HomePage/Hero.tsx","webpack:///./src/views/HomePage/SectionLink.tsx","webpack:///./src/views/HomePage/index.tsx","webpack:///./src/utils/graphql/normalize.ts","webpack:///./src/components/icons/PlayIcon.tsx","webpack:///./src/components/cards/VideoCard/index.tsx"],"names":["StyledBookCard","styled","big","props","COLOR","BACKGROUND_DARK","BORDER_RADIUS","S","screenMin","m","StyledImgWrapper","figure","BACKGROUND_LIGHT","StyledImg","Img","StyledAccessibilityTitle","figcaption","FONT","SIZE","StyledMeta","div","XS","StyledVideoLink","button","WEIGHT","BOLD","BookCard","book","featured","hideDetails","className","to","slug","style","background","image","colors","darkVibrant","lightMuted","color","vibrant","muted","bookHeight","toFixed","title","author","fixed","childImageSharp","h150","media","BREAKPOINT","h350","backgroundColor","rating7","video","onClick","e","preventDefault","navigate","of7","_objectWithoutPropertiesLoose","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","YouTubeWidget","src","data-channel","data-layout","data-count","StyledTitle","Wrapper","StyledCoverWrapper","StyledQuoteWrapper","TEXT_SHADOW","StyledQuote","H","StyledBookLink","Link","StyledCover","StyledHeart","span","HomeHero","cover","fluid","as","size","decorative","StyledLinkCard","SectionLink","children","ArrowIcon","StyledMainWrapper","BACKGROUND","StyledIntroGrid","Grid","l","StyledSubscribeWrapper","GridItem","StyledMediaGrid","screen","StyledVideoCard","VideoCard","StyledLinkWrapper","HomePage","data","bookData","videoData","location","books","normalizeArray","videos","Layout","navOpenOnDesktop","navInverted","Hero","spanFromL","columnsFromL","YouTubeSubscribeButton","spanFromM","map","id","order","PATHS","BOOKS","VIDEOS","query","edges","node","PlayIcon","viewBox","d","YouTubePlayerConfig","youtube","playerVars","rel","controls","autoplay","StyledPlayButton","StyledPlayIcon","StyledDuration","aside","$big","XXS","StyledDetails","StyledTimestamp","p","StyledDatePublished","time","StyledH","StyledBookContentsWrapper","isStars","timestamp","playsInline","hideOwnedByRating","useState","playVideo","setPlayVideo","featuredBookCount","timestamps","filter","t","ownedBy","lightVibrant","darkMuted","AspectRatioWrapper","url","youtubeId","unformatTimestamp","config","width","height","w200","M","w350","aria-label","formatTimestamp","duration","StarRating","shortFormatDate","datePublished","viewCount","parseInt","process","formatViewCount"],"mappings":"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","file":"component---src-views-home-page-index-tsx-9c41c270014e8906f77f.js","sourcesContent":["import React from 'react'\nimport styled, { SimpleInterpolation } from 'styled-components'\nimport { Link, navigate } from 'gatsby'\nimport Img from 'gatsby-image'\n\nimport { BookCardType } from 'types/book'\nimport StarRating from 'components/StarRating'\nimport ArrowIcon from 'components/icons/ArrowIcon'\nimport { FONT, COLOR, BORDER_RADIUS, BREAKPOINT } from 'styles/tokens'\nimport { screenMin } from 'styles/responsive'\n\ninterface BookCardProps {\n  big: boolean\n}\n\nconst StyledBookCard = styled(\n  ({ big, ...props }) => <Link {...props} /> // eslint-disable-line\n)<BookCardProps>`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  margin: 0;\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n  background: ${COLOR.BACKGROUND_DARK};\n  border-radius: ${BORDER_RADIUS.S};\n  outline: 0 !important;\n  --perspective: 800px;\n  --book-pages-color: #afbdbb;\n\n  ${({ big }): SimpleInterpolation =>\n    big &&\n    screenMin.m`\n    --perspective: 1600px;\n  `};\n`\n\nconst StyledImgWrapper = styled.figure`\n  max-width: 100%;\n  height: auto;\n  margin: 0.5em;\n  background: var(--book-pages-color);\n  box-shadow: 0 0.2em 0.5em rgba(0, 0, 0, 0.1);\n  transform: scale(var(--book-scale));\n\n  *::selection {\n    background: var(--primary-color);\n    color: ${COLOR.BACKGROUND_LIGHT};\n  }\n`\n\nconst StyledImg = styled(Img)`\n  vertical-align: bottom;\n  transition: transform 0.3s ease-out;\n  transform-origin: 0 50%;\n  box-shadow: 0 0 0.3em rgba(0, 0, 0, 0.05);\n  transform: perspective(var(--perspective)) rotateY(0);\n\n  a:hover &,\n  a:focus & {\n    transition: transform 0.15s ease-out;\n    transform: perspective(var(--perspective)) rotateY(-30deg);\n  }\n\n  a:active & {\n    transition: transform 0.5s ease-out;\n    transform: perspective(var(--perspective)) rotateY(-80deg);\n  }\n`\n\nconst StyledAccessibilityTitle = styled.figcaption`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  font-size: ${FONT.SIZE.S};\n  color: transparent;\n  padding: 0.5em;\n  display: flex;\n  place-items: center;\n`\n\nconst StyledMeta = styled.div`\n  margin: 0 0 1em;\n  font-size: ${FONT.SIZE.XS};\n  line-height: 1;\n  text-align: center;\n\n  & > * + * {\n    margin-top: 0.25em;\n  }\n`\n\nconst StyledVideoLink = styled.button`\n  display: inline-block;\n  font-weight: ${FONT.WEIGHT.BOLD};\n  padding: 0.25em 0.5em;\n  transition: transform 150ms linear;\n\n  &:hover {\n    transform: translate(-0.1em, 0);\n  }\n\n  &::selection {\n    background: transparent;\n  }\n`\n\ninterface Props {\n  book: BookCardType\n  featured?: boolean\n  big?: boolean\n  hideDetails?: boolean\n  className?: string\n}\n\nconst BookCard: React.FC<Props> = ({\n  book,\n  featured,\n  big,\n  hideDetails,\n  className,\n}) => {\n  return (\n    <StyledBookCard\n      to={book.slug}\n      big={big}\n      style={\n        {\n          background: hideDetails\n            ? book.image.colors.darkVibrant\n            : featured && book.image.colors.lightMuted,\n          color: book.image.colors.darkVibrant,\n          '--primary-color': book.image.colors.vibrant,\n          '--secondary-color': book.image.colors.darkVibrant,\n          '--book-pages-color': featured && book.image.colors.muted,\n          '--book-scale': ((book.bookHeight || 198) / 220).toFixed(2),\n        } as object\n      }\n      className={className}\n      title={`${book.title} by ${book.author}`}\n    >\n      <StyledImgWrapper>\n        <StyledImg\n          fixed={\n            big\n              ? [\n                  {\n                    ...book.image.childImageSharp.h150,\n                    media: `(max-width: ${BREAKPOINT.S - 1}px)`,\n                  },\n                  {\n                    ...book.image.childImageSharp.h350,\n                    media: `(min-width: ${BREAKPOINT.S}px)`,\n                  },\n                ]\n              : book.image.childImageSharp.h150\n          }\n          backgroundColor={book.image.colors.muted}\n        />\n        <StyledAccessibilityTitle>\n          <span>\n            {book.title} by {book.author}\n          </span>\n        </StyledAccessibilityTitle>\n      </StyledImgWrapper>\n      {!hideDetails && (book.rating7 || book.video) && (\n        <StyledMeta>\n          {book.video && (\n            <StyledVideoLink\n              onClick={(e): void => {\n                e.preventDefault()\n                navigate(book.video.slug)\n              }}\n            >\n              Video review\n              <ArrowIcon />\n            </StyledVideoLink>\n          )}\n          {book.rating7 && <StarRating of7={book.rating7} />}\n        </StyledMeta>\n      )}\n    </StyledBookCard>\n  )\n}\n\nexport default BookCard\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import React from 'react'\nimport Helmet from 'react-helmet'\n\nconst YouTubeWidget: React.FC = () => (\n  <>\n    <Helmet>\n      <script src=\"https://apis.google.com/js/platform.js\"></script>\n    </Helmet>\n\n    <div\n      className=\"g-ytsubscribe\"\n      data-channel=\"chareadzard\"\n      data-layout=\"full\"\n      data-count=\"default\"\n    ></div>\n  </>\n)\n\nexport default YouTubeWidget\n","import React from 'react'\nimport { Link } from 'gatsby'\nimport styled from 'styled-components'\nimport Img from 'gatsby-image'\n\nimport { GatsbyImageSharpFluid } from 'types/image'\nimport H from 'components/H'\nimport Wrapper from 'components/Wrapper'\nimport { screenMin } from 'styles/responsive'\nimport { TEXT_SHADOW } from 'styles/tokens'\n\nconst SECRET_HISTORY_LINK = '/books/the-secret-history-donna-tartt/'\n\nconst StyledTitle = styled(Wrapper)`\n  color: #fff;\n  & {\n    margin-top: 1em;\n    margin-bottom: 1em;\n  }\n\n  ${screenMin.m`\n    opacity: 0;\n  `}\n`\n\nconst StyledCoverWrapper = styled.figure`\n  margin: 0;\n  width: 100%;\n  height: 100vh;\n  position: relative;\n  overflow: hidden;\n  perspective: 50vmax;\n\n  > * {\n    position: relative;\n  }\n`\n\nconst StyledQuoteWrapper = styled(Wrapper)`\n  z-index: 20;\n  color: #fff;\n  text-shadow: ${TEXT_SHADOW};\n\n  ${screenMin.m`\n    margin-top: 5vh;\n  `}\n`\n\nconst StyledQuote = styled(H)`\n  max-width: 5.5em;\n  margin: 0 0 0.25em;\n  font-size: 3em;\n  text-indent: -0.25em;\n\n  &:before {\n    content: ${`\"\\\\201C\"`};\n  }\n`\n\nconst StyledBookLink = styled(Link)`\n  position: absolute;\n  z-index: 10;\n  width: 19vh;\n  height: 31vh;\n  bottom: 8vh;\n  left: 50%;\n  margin-left: -7vh;\n  transform: rotate3d(2, -1, 1.5, -30deg);\n  transform-origin: 50% 100%;\n  border-top-left-radius: 30% 5%;\n  border-top-right-radius: 50% 10%;\n  border-bottom-left-radius: 5%;\n  border-bottom-right-radius: 5%;\n\n  @media (min-aspect-ratio: 4008/3002) {\n    width: 15vw;\n    height: 22vw;\n    bottom: 8vh;\n    left: 50%;\n    margin-left: -6vw;\n  }\n`\n\nconst StyledCover = styled(Img)`\n  position: absolute !important;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  user-select: none;\n  background: #50597a;\n\n  img {\n    object-position: 50% 100% !important;\n  }\n\n  > img {\n    opacity: 1 !important;\n  }\n\n  img + picture img {\n    transition: opacity 2000ms ease 0s !important;\n  }\n`\n\nconst StyledHeart = styled.span`\n  color: #ff006a;\n`\n\ninterface Props {\n  cover: GatsbyImageSharpFluid\n}\n\nconst HomeHero: React.FC<Props> = ({ cover }) => (\n  <StyledCoverWrapper>\n    <StyledCover fluid={cover.childImageSharp.fluid} />\n\n    <StyledTitle>\n      <Link to=\"/\">Chareads</Link>\n    </StyledTitle>\n\n    <StyledQuoteWrapper>\n      <StyledQuote as=\"blockquote\" size=\"XL\" decorative>\n        It is better to know one book intimately than a hundred superficially\n      </StyledQuote>\n      <small>\n        <StyledHeart>&#10084;</StyledHeart> Donna Tartt, {}\n        <Link to={SECRET_HISTORY_LINK}>The Secret History</Link>\n      </small>\n    </StyledQuoteWrapper>\n\n    <StyledBookLink to={SECRET_HISTORY_LINK} />\n  </StyledCoverWrapper>\n)\n\nexport default HomeHero\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Link } from 'gatsby'\n\nimport { FONT } from 'styles/tokens'\nimport ArrowIcon from 'components/icons/ArrowIcon'\n\nconst StyledLinkCard = styled(Link)`\n  font-weight: ${FONT.WEIGHT.BOLD};\n`\n\ninterface Props {\n  to: string\n  children: React.ReactNode\n}\n\nconst SectionLink: React.FC<Props> = ({ to, children }) => {\n  return (\n    <div>\n      <StyledLinkCard to={to}>\n        {children}\n        <ArrowIcon />\n      </StyledLinkCard>\n    </div>\n  )\n}\n\nexport default SectionLink\n","import React from 'react'\nimport { graphql } from 'gatsby'\nimport styled from 'styled-components'\n\nimport { normalizeArray } from 'utils/graphql/normalize'\nimport PATHS from 'routes/paths'\nimport Layout from 'Layout'\nimport { PageProps } from 'types/page'\nimport { BookCardType } from 'types/book'\nimport { VideoCardType } from 'types/video'\nimport { GatsbyImageSharpFluid } from 'types/image'\nimport Grid from 'components/Grid'\nimport GridItem from 'components/Grid/GridItem'\nimport BookCard from 'components/cards/BookCard'\nimport VideoCard from 'components/cards/VideoCard'\nimport Wrapper from 'components/Wrapper'\nimport YouTubeSubscribeButton from 'components/YouTubeSubscribeButton'\nimport { screen, screenMin } from 'styles/responsive'\nimport { COLOR, FONT } from 'styles/tokens'\n\nimport Hero from './Hero'\nimport SectionLink from './SectionLink'\n\nconst StyledMainWrapper = styled.div`\n  background: ${COLOR.BACKGROUND};\n  position: relative;\n  z-index: 90;\n`\n\nconst StyledIntroGrid = styled(Grid)`\n  && {\n    padding-top: 2em;\n    margin-bottom: 2em;\n\n    ${screenMin.l`\n      padding-top: 3em;\n      margin-bottom: 3em;\n    `}\n  }\n`\n\nconst StyledSubscribeWrapper = styled(GridItem)`\n  ${screenMin.l`\n    align-self: end;\n    text-align: right;\n  `}\n`\n\nconst StyledMediaGrid = styled(Grid)`\n  ${screen.m`\n    > *:nth-last-child(-n+2) {\n      display: none;\n    }\n  `}\n`\n\nconst StyledVideoCard = styled(VideoCard)`\n  > div:last-child {\n    min-height: auto;\n  }\n`\n\nconst StyledBookCard = styled(BookCard)`\n  font-size: 0.875em;\n`\n\nconst StyledLinkWrapper = styled(Wrapper)`\n  && {\n    margin-top: 2em;\n  }\n`\n\ninterface Props extends PageProps {\n  data: {\n    bookData: {\n      edges: {\n        node: BookCardType\n      }[]\n    }\n    videoData: {\n      edges: {\n        node: VideoCardType\n      }[]\n    }\n    cover: GatsbyImageSharpFluid\n  }\n}\n\nconst HomePage: React.FC<Props> = ({\n  data: { bookData, videoData, cover },\n  location,\n}) => {\n  const books = normalizeArray(bookData) as BookCardType[]\n  const videos = normalizeArray(videoData) as VideoCardType[]\n\n  return (\n    <Layout location={location} navOpenOnDesktop navInverted>\n      <Hero cover={cover} />\n\n      <StyledMainWrapper>\n        <StyledIntroGrid>\n          <StyledSubscribeWrapper spanFromL={4} columnsFromL=\"9 / 13\">\n            <YouTubeSubscribeButton />\n          </StyledSubscribeWrapper>\n\n          <GridItem span={2} spanFromM={12} spanFromL={8}>\n            <p>\n              Hello, I&rsquo;m Charlotte and I love to read anything and\n              everything. Chareads is where I record and review every book I\n              read. Have&nbsp;a&nbsp;poke around and find your next favourite.\n            </p>\n          </GridItem>\n        </StyledIntroGrid>\n\n        <StyledMediaGrid as=\"ol\">\n          {videos.length &&\n            videos.map((video, i) => (\n              <GridItem\n                as=\"li\"\n                key={video.id}\n                span={2}\n                spanFromM={6}\n                spanFromL={4}\n                style={{ order: 2 + i * 2 }}\n              >\n                <StyledVideoCard video={video} big />\n              </GridItem>\n            ))}\n          {books.length &&\n            books.map((book, i) => (\n              <GridItem\n                as=\"li\"\n                key={book.id}\n                span={1}\n                spanFromM={3}\n                spanFromL={2}\n                style={{ order: i }}\n              >\n                <StyledBookCard book={book} featured={book.rating7 >= 6} />\n              </GridItem>\n            ))}\n        </StyledMediaGrid>\n\n        <StyledLinkWrapper>\n          <SectionLink to={PATHS.BOOKS}>Find more book reviews</SectionLink>\n          <SectionLink to={PATHS.VIDEOS}>See all my bookish videos</SectionLink>\n        </StyledLinkWrapper>\n      </StyledMainWrapper>\n    </Layout>\n  )\n}\n\nexport const query = graphql`\n  query HomePage {\n    cover: file(relativePath: { eq: \"cover.jpg\" }) {\n      childImageSharp {\n        fluid(maxWidth: 2000, traceSVG: { color: \"#363c54\", turdSize: 20 }) {\n          ...GatsbyImageSharpFluid_tracedSVG\n        }\n      }\n    }\n    bookData: allBook(\n      sort: { fields: dateRated, order: DESC }\n      filter: { rating7: { ne: null }, dateReviewed: { ne: null } }\n      limit: 10\n    ) {\n      edges {\n        node {\n          ...BookCardFields\n        }\n      }\n    }\n    videoData: allVideo(\n      sort: { fields: datePublished, order: DESC }\n      filter: { ownedBy: { id: { eq: null } } }\n      limit: 4\n    ) {\n      edges {\n        node {\n          ...VideoCardFields\n        }\n      }\n    }\n  }\n`\n\nexport default HomePage\n","interface Query {\n  edges: {\n    node: object\n  }[]\n}\n\nexport const normalizeArray = (query: Query): object[] =>\n  query.edges.map((query) => query.node)\n","import React from 'react'\n\ninterface Props {\n  className?: string\n}\n\nconst PlayIcon: React.FC<Props> = ({ className }) => (\n  <svg viewBox=\"0 0 11 14\" className={className}>\n    <path d=\"M9.2,6.2l-7.5-5c-0.5-0.3-1.2,0-1.2,0.6v10.3c0,0.6,0.7,1,1.2,0.6l7.5-5C9.8,7.4,9.8,6.6,9.2,6.2z\" />\n  </svg>\n)\n\nexport default PlayIcon\n","import React, { useState } from 'react'\nimport styled from 'styled-components'\nimport { Link } from 'gatsby'\nimport Img from 'gatsby-image'\nimport YouTubePlayer from 'react-player/lib/players/YouTube'\n\nimport { VideoCardType } from 'types/video'\nimport { shortFormatDate, unformatTimestamp, formatTimestamp } from 'utils/formatting/time'\nimport { formatViewCount } from 'utils/formatting/numbers'\nimport H from 'components/H'\nimport { COLOR, FONT, BORDER_RADIUS, BREAKPOINT } from 'styles/tokens'\nimport StarRating from 'components/StarRating'\nimport AspectRatioWrapper from 'components/AspectRatioWrapper'\nimport PlayIcon from 'components/icons/PlayIcon'\n\nconst YouTubePlayerConfig = {\n  youtube: {\n    playerVars: {\n      rel: 0,\n      controls: 1,\n      autoplay: 1,\n    },\n  },\n}\n\nconst StyledVideoCard = styled(Link)`\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  margin: 0;\n  overflow: hidden;\n  background: ${COLOR.BACKGROUND_DARK};\n  border-radius: ${BORDER_RADIUS.S};\n`\n\nconst StyledPlayButton = styled.button`\n  position: absolute;\n  z-index: 1;\n  padding: 0.5em 0.6em;\n  line-height: 0;\n`\n\nconst StyledPlayIcon = styled(PlayIcon)`\n  width: 1em;\n  fill: ${COLOR.BACKGROUND_LIGHT};\n  filter: drop-shadow(0 0 2px rgba(0, 0, 0, 0.1));\n`\n\nconst StyledDuration = styled.aside`\n  position: absolute;\n  bottom: 0.25em;\n  right: 0.25em;\n  padding: 0 0.375em;\n  border-radius: 2px;\n  background: #00000088;\n  color: #ffffffcc;\n  font-size: ${({ $big }) => $big ? FONT.SIZE.XS : FONT.SIZE.XXS};\n`\n\nconst StyledImg = styled(Img)`\n  box-shadow: 0 0.2em 0.5em rgba(0, 0, 0, 0.1);\n`\n\nconst StyledDetails = styled.div`\n  padding: 0.5em 0.5em 0.3em;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  min-height: 4.8em;\n`\n\nconst StyledTimestamp = styled.p`\n  font-size: ${FONT.SIZE.S};\n  margin: 0;\n`\n\nconst StyledMeta = styled.p`\n  display: flex;\n  justify-content: space-between;\n  flex-flow: wrap-reverse;\n  font-size: ${FONT.SIZE.XS};\n  margin: 0;\n  opacity: 0.5;\n`\n\nconst StyledDatePublished = styled.time`\n  margin-right: 0.5em;\n`\n\nconst StyledH = styled(H)`\n  margin: 0;\n`\n\ninterface BookContentsProps {\n  isStars: boolean\n}\n\nconst StyledBookContentsWrapper = styled.div<BookContentsProps>`\n  font-size: ${({ isStars }): string =>\n    isStars ? FONT.SIZE.XXS : FONT.SIZE.XS};\n  margin: ${({ isStars }): number => (isStars ? 0.4 : 0.2)}em 0;\n  opacity: 0.75;\n`\n\ninterface Props {\n  video: VideoCardType\n  featured?: boolean\n  timestamp?: string\n  big?: boolean\n  playsInline?: boolean\n  hideOwnedByRating?: boolean\n  className?: string\n}\n\nconst VideoCard: React.FC<Props> = ({\n  video,\n  featured,\n  timestamp,\n  big,\n  playsInline,\n  hideOwnedByRating,\n  className,\n}) => {\n  const [playVideo, setPlayVideo] = useState(false)\n  const featuredBookCount =\n    (video.timestamps || []).filter((t) => t.book && t.book.id).length +\n    (video.ownedBy ? 1 : 0)\n\n  return (\n    <StyledVideoCard\n      to={timestamp ? `${video.slug}?at=${timestamp}` : video.slug}\n      style={\n        {\n          background: featured && video.image.colors.lightVibrant,\n          color: featured && video.image.colors.darkMuted,\n          '--primary-color': video.image.colors.vibrant,\n        } as object\n      }\n      className={className}\n    >\n      <AspectRatioWrapper style={{ backgroundColor: video.image.colors.muted }}>\n        {playVideo ? (\n          <YouTubePlayer\n            url={`https://www.youtube.com/watch?v=${\n              video.youtubeId\n            }${timestamp && `&t=${unformatTimestamp(timestamp)}`}`}\n            config={YouTubePlayerConfig}\n            width=\"100%\"\n            height=\"100%\"\n          />\n        ) : (\n          <div>\n            {playsInline && (\n              <StyledPlayButton\n                onClick={(e): void => {\n                  e.preventDefault()\n                  setPlayVideo(true)\n                }}\n              >\n                <StyledPlayIcon />\n              </StyledPlayButton>\n            )}\n            <StyledImg\n              fluid={\n                big\n                  ? [\n                      {\n                        ...video.image.childImageSharp.w200,\n                        media: `(max-width: ${BREAKPOINT.M - 1}px)`,\n                      },\n                      {\n                        ...video.image.childImageSharp.w350,\n                        media: `(min-width: ${BREAKPOINT.M}px)`,\n                      },\n                    ]\n                  : video.image.childImageSharp.w200\n              }\n            />\n            <StyledDuration $big={big} aria-label=\"duration\">{formatTimestamp(video.duration)}</StyledDuration>\n          </div>\n        )}\n      </AspectRatioWrapper>\n      <StyledDetails>\n        <div>\n          {timestamp && (\n            <StyledTimestamp>Featured at {timestamp} in</StyledTimestamp>\n          )}\n          <StyledH as=\"h2\" size=\"S\">\n            {video.title}\n          </StyledH>\n\n          <StyledBookContentsWrapper isStars={!!video.ownedBy}>\n            {video.ownedBy && !hideOwnedByRating\n              ? video.ownedBy.rating7 && (\n                  <StarRating of7={video.ownedBy.rating7} />\n                )\n              : !timestamp &&\n                featuredBookCount > 1 && (\n                  <>\n                    Featuring {featuredBookCount} book\n                    {featuredBookCount > 1 && 's'}\n                  </>\n                )}\n          </StyledBookContentsWrapper>\n        </div>\n        <StyledMeta>\n          <StyledDatePublished>\n            {shortFormatDate(video.datePublished)}\n          </StyledDatePublished>\n          {video.viewCount >\n            parseInt(process.env.GATSBY_YOUTUBE_VIEWS_MINIMUM_VISIBLE) && (\n            <span>{formatViewCount(video.viewCount)}</span>\n          )}\n        </StyledMeta>\n      </StyledDetails>\n    </StyledVideoCard>\n  )\n}\n\nexport default VideoCard\n"],"sourceRoot":""}